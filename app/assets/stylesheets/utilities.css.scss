@import "variables";

/***********
Efforts Popover
************/

.popover.efforts-popover .popover-content {
	max-height: 400px;
	overflow-x: visible;
	overflow-y: scroll;
}

.popover.static-popover {

  .popover-title {
    display: none;
  }

  .popover-content {
    max-height: 150px;
    overflow-x: visible;
    overflow-y: scroll;
  }

  &.static-popover-dark {
    background: #222;
    color: #dddddd;
    &.bottom .arrow:after { border-bottom-color: #222; }
    &.left .arrow:after { border-left-color: #222; }
    &.right .arrow:after { border-right-color: #222; }
    &.top .arrow:after { border-top-color: #222; }
  }
}

.spin {
  -webkit-animation:spin 1s linear infinite;
  -moz-animation:spin 1s linear infinite;
  animation:spin 1s linear infinite;
}
@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }

.switchery {

	&, > small {
		border-radius: 4px;
		height: 32px;
	}

	&.switchery-small {
		width: 40px;
		
		&, > small {
			border-radius: 3px;
			height: 28px;
		}
	}

	&.switchery-large {
		&, > small {
			border-radius: 6px;
			height: 44px;
		}
	}
}

label.switchery-label {
	cursor: pointer;
	
	> span {
		display: inline-block;
		font-size: 12px;
		line-height: 1;
		font-weight: normal;
		vertical-align: middle;
		margin-right: 5px;
	}
}

.has-highlight {
	.help-block,
	.control-label,
	.radio,
	.checkbox,
	.radio-inline,
	.checkbox-inline,
	.radio label,
	.checkbox label,
	.radio-inline label,
	.checkbox-inline label {
		color: $state-info-text;
	}

	.form-control {
		border-color: $state-info-text;
		-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);
		box-shadow:inset 0 1px 1px rgba(0,0,0,0.075)
	}

	.form-control:focus {
		border-color: $state-info-border;
		-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #c0a16b;
		box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 6px #c0a16b
	}

	.input-group-addon {
		color: $state-info-text;
		border-color: $state-info-text;
		background-color: $state-info-bg;
	}

	.form-control-feedback {
		color: $state-info-text;
	}
}

/***********
Progress Bar Navigation
************/

.progress-bar-nav {
	position: relative;

	$progress-bar-nav: (
		'bar-margin': 50px,
		'bar-height': 1em,
		'indicator-height': 0.4em,
		'bubble-height': 1.5em
	);


	&:before {
		display: block;
		content: '';
		position: absolute;
		left: 0;
		background: $lightGray;
		width: 100%;
		height: map-get( $progress-bar-nav, 'bar-height' );
		border-radius: map-get( $progress-bar-nav, 'bar-height' ) / 2;
		margin: ( map-get( $progress-bar-nav, 'bubble-height' ) - map-get( $progress-bar-nav, 'bar-height' ) ) / 2 0;
	}

	ul {
		list-style: none;
		display: table;
		table-layout: fixed;
		padding: 0 map-get( $progress-bar-nav, 'bar-margin' );
		margin: 0;
		width: 100%;
		margin-bottom: 4em;

		li {
			position: relative;
			display: table-cell;
			text-align: right;

			&:before {
				display: block;
				content: '';
				width: map-get( $progress-bar-nav, 'bubble-height' );
				height: map-get( $progress-bar-nav, 'bubble-height' );
				border-radius: map-get( $progress-bar-nav, 'bubble-height' ) / 2;
				background: $lightGray;
				position: absolute;
				top: 0;
				right: -( map-get( $progress-bar-nav, 'bubble-height' ) / 2 );
				transition: background 0.6s ease-in-out;
			}

			&:after {
				display: block;
				content: '';
				position: absolute;
				height: map-get( $progress-bar-nav, 'indicator-height' );
				right: 0;
				width: 100%;
				top: ( ( map-get( $progress-bar-nav, 'bubble-height' ) - map-get( $progress-bar-nav, 'indicator-height' ) ) / 2 );
				opacity: 1;
				background: $blue;
				transition: all 0.6s ease-in-out;
				z-index: 2;
			}

			&:first-child {
				width: 0;

				&:after {
					width: map-get( $progress-bar-nav, 'bar-margin' );
					opacity: 1;
					border-radius: map-get( $progress-bar-nav, 'indicator-height' );
				}
			}

			a {
				position: absolute;
				top: 0;
				left: 100%;
				padding-top: 2em;
				min-width: 100px;
				display: inline-block;
				text-align: center;
				color: $blue;
				text-decoration: none;
				z-index: 3;
				@include transform( translateX(-50%) );

				&:before {
					display: block;
					content: '';
					position: absolute;
					top: 0;
					left: 50%;
					width: map-get( $progress-bar-nav, 'bubble-height' );
					height: map-get( $progress-bar-nav, 'bubble-height' );
					border-radius: map-get( $progress-bar-nav, 'bubble-height' ) / 2;
					margin-left: -( map-get( $progress-bar-nav, 'bubble-height' ) / 2 );
					@include transform( scale( 1 ) );
					background: $blue;
					transition: transform 0.3s ease-in-out;
				}
			}
		}

		li.active ~ li,
		li.router-link-active ~ li  {

			&:after {
				right: 100%;
				opacity: 0;
			}

			a {
				color: $mediumGray;

				&:before {
					@include transform( scale( 0 ) );
				}
			}
		}

		li.active + li:after,
		li.router-link-active + li:after {
			width: 0;
			right: 100%;
		}
	}
}

/***********
Full Background
************/

aside.full-bg {
	position: relative;

	&:before {
		display: block;
		content: '';
		background: inherit;
		position: absolute;
		top: 0;
		bottom: 0;
		right: 100%;
		width: 512px; // Fallback
		width: 50vw;
	}
}

span.brackets {
	&:before { content: '['; }
	&:after { content: ']'; }

	& > * {
		margin: 0 0.5em;
	}
}